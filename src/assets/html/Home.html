<!DOCTYPE html>
<html lang="pt-br">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="https://www.dota2.com/favicon.ico" type="assets/image/x-icon">
    <link rel="stylesheet" href="../css/home/disp.css">
    <link rel="stylesheet" href="../css/home/font.css">
    <link rel="stylesheet" href="../css/home/p.css">
    <link rel="stylesheet" href="../css/home/reset.css">
    <link rel="stylesheet" href="../css/home/hover.css">
    <link rel="stylesheet" href="../css/home/op.css">
    <link rel="stylesheet" href="../css/home/border.css">
    <link rel="stylesheet" href="../css/home/component.css">
    <title>Dota2</title>
  </head>

  <body class="font-bg-black">

    <div class="disp-flex disp-just-flex-spacing-between disp-align-items-center p-30">
      <div class="disp-flex disp-just-center">
        <nav class="p-30 font-uppercase font-reaver-600 op-08 hover-op1" aria-label="Jogo"><a class="font-white" id="text-menu-game" href=""> </a></nav>
        <nav class="font-reaver-600 p-30 font-uppercase op-08 hover-op1" aria-label="Herois"><a class="font-white" id="text-menu-heroes" href=""> </a></nav>
        <nav class="font-reaver-600 p-30 font-uppercase op-08 hover-op1" aria-label="News"><a class="font-white" id="text-menu-news" href=""> </a></nav>
        <nav class="font-reaver-600 p-30 font-uppercase op-08 hover-op1" aria-label="Esports"><a class="font-white" id="text-menu-sports" href=""> </a></nav>
      </div>

      <div class="disp-flex disp-flex-dir-col disp-align-items-center">
        <label for="idiomas" class="font-gray-light" id="text-selectLanguage"></label>
        <select class="component-select" name="idiomas" id="idiomas" onchange="changeLanguage(this.value)">
          <option value="pt" class="font-gray-light2" selected>Português (Brasil)</option>
          <option value="eng" class="font-gray-light2">Inglês</option>
          <option value="fr" class="font-gray-light2">Francês</option>
          <option value="zh" class="font-gray-light2">Chinês</option>
          <option value="hi" class="font-gray-light2">Indú</option>
        </select>

        <select name="sem" id="sem">
          <option value="pt" class="font-gray-light2" selected>Sem (Brasil)</option>
          <option value="eng" class="font-gray-light2">Inglês</option>
          <option value="fr" class="font-gray-light2">Francês</option>
          <option value="zh" class="font-gray-light2">Chinês</option>
          <option value="hi" class="font-gray-light2">Indú</option>
        </select>
      </div>

    </div>

  </body>

  <script type="module">
    import { Heroes } from '../js/script.js';
    var heroesObj = new Heroes();
    const allText = heroesObj.allText();
    
    window.onload = function () {
      window.fullText = allText;
      //default: pt
      changeLanguage("pt");
    };

  </script>

  <script>
    function changeLanguage(selectedLanguage){

      var actualLanguage = fullText.filter( (elem) => elem.lang == selectedLanguage )[0];
      Object.keys(actualLanguage).forEach(prop => {
          var elem = document.getElementById(prop);
          if (elem){
            elem.innerHTML = actualLanguage[prop];
          }
          console.log(prop)
      });

    }
  </script>

</html>